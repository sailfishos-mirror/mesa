<?xml version="1.0" ?>

<!--
Copyright Â© 2025 Imagination Technologies Ltd.

SPDX-License-Identifier: MIT
-->

<csbgen name="VOLCANIC" prefix="CDMCTRL">

  <define name="GUARD_SIZE_DEFAULT" value="64"/>

  <enum name="BLOCK_TYPE">
    <value name="COMPUTE_KERNEL"   value="0"/>
    <value name="STREAM_LINK"      value="1"/>
    <value name="STREAM_TERMINATE" value="2"/>
  </enum>

  <enum name="USC_TARGET">
    <value name="ALL" value="0"/>
    <value name="ANY" value="1"/>
  </enum>

  <enum name="SD_TYPE">
    <value name="NONE" value="0"/>
    <value name="PDS"  value="1"/>
    <value name="USC"  value="2"/>
  </enum>

  <struct name="KERNEL0" length="1">
    <field name="block_type" start="30" end="31" type="BLOCK_TYPE" default="COMPUTE_KERNEL"/>
    <field name="indirect_present" start="29" end="29" type="bool"/>

    <field name="usc_unified_size" start="12" end="18" type="uint"/>
    <field name="pds_temp_size" start="7" end="11" type="uint"/>
    <field name="pds_data_size" start="1" end="6" type="uint"/>

    <field name="usc_target" start="0" end="0" type="USC_TARGET"/>
  </struct>

  <struct name="KERNEL1" length="1">
    <field name="data_addr" start="4" end="31" shift="4" type="address"/>
    <field name="sd_type" start="2" end="3" type="SD_TYPE"/>
  </struct>

  <struct name="KERNEL2" length="1">
    <field name="code_addr" start="4" end="31" shift="4" type="address"/>
  </struct>

  <struct name="KERNEL3" length="1">
    <field name="workgroup_x" start="0" end="31" type="uint"/>
  </struct>

  <struct name="KERNEL4" length="1">
    <field name="workgroup_y" start="0" end="31" type="uint"/>
  </struct>

  <struct name="KERNEL5" length="1">
    <field name="workgroup_z" start="0" end="31" type="uint"/>
  </struct>

  <struct name="KERNEL6" length="1">
    <field name="indirect_addrmsb" start="0" end="15" shift="32" type="address"/>
  </struct>

  <struct name="KERNEL7" length="1">
    <field name="indirect_addrlsb" start="2" end="31" shift="2" type="address"/>
  </struct>

  <struct name="KERNEL8" length="1">
    <field name="max_instances" start="25" end="31" type="uint"/>
  </struct>

  <struct name="KERNEL9" length="1">
    <field name="workgroup_size_x" start="20" end="29" type="uint"/>
    <field name="workgroup_size_y" start="10" end="19" type="uint"/>
    <field name="workgroup_size_z" start="0" end="9" type="uint"/>
  </struct>

  <struct name="KERNEL10" length="1">
  </struct>

  <struct name="KERNEL11" length="1">
  </struct>

  <struct name="KERNEL12" length="1">
  </struct>

  <struct name="KERNEL13" length="1">
  </struct>

  <struct name="STREAM_LINK0" length="1">
    <field name="block_type" start="30" end="31" type="BLOCK_TYPE" default="STREAM_LINK"/>
    <field name="link_addrmsb" start="0" end="15" shift="32"  type="address"/>
  </struct>

  <struct name="STREAM_LINK1" length="1">
    <field name="link_addrlsb" start="2" end="31" shift="2" type="address"/>
  </struct>

  <struct name="STREAM_TERMINATE" length="1">
    <field name="block_type" start="30" end="31" type="BLOCK_TYPE" default="STREAM_TERMINATE"/>
  </struct>

</csbgen>
